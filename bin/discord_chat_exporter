#!/usr/bin/env ruby
require "discord_chat_exporter"

if ARGV.size < 2
  puts "Uso: discord_chat_exporter TOKEN CHANNEL_ID [ARCHIVO_SALIDA]"
  exit 1
end

token = ARGV[0]
channel_id = ARGV[1].to_i
filename = ARGV[2] || "export_chat.txt"

exporter = DiscordChatExporter::Exporter.new(token: token, channel_id: channel_id)
exporter.export(filename)